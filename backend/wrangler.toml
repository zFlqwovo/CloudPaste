name = "cloudpaste-backend"
main = "unified-entry.js"
compatibility_date = "2025-09-01"
compatibility_flags = ["nodejs_compat"]

# 开发服务器配置
[dev]
port = 8787
local_protocol = "http"

# 环境变量
[vars]
# 用于加密敏感配置的密钥
ENCRYPTION_SECRET = "default-encryption-key"
# 管理员Token过期天数，默认7天
ADMIN_TOKEN_EXPIRY_DAYS = "7"

# 绑定D1数据库
# 需要替换为实际的数据库ID
[[d1_databases]]
binding = "DB"
database_name = "cloudpaste-db"
database_id = "xxxxxxxxxxxxxxxxx"

# Cloudflare Workflows 绑定
# 用于异步任务作业的持久化执行
[[workflows]]
binding = "JOB_WORKFLOW"
name = "job-workflow"
class_name = "JobWorkflow"
